using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Collections;
using System.IO;

namespace ConsoleApplicationEASTER
{
    public class ClassFunctions : ClassMultipleIncome
 {
        public int substraktion(int tal1, int tal2)
        {
            int results = tal1 - tal2;
            return results;
        }

        public int multiplikation(int tal1, int tal2)
        {
            int results = tal1 * tal2;
            return results;
        }
        public int addition(int tal1, int tal2)
        {
            int results = tal1 + tal2;
            return results;
        }
        public int division(int tal1, int tal2)
        {
            int results = tal1 / tal2;
            return results;
        }
    }


 public class ClassUserActivity
    {
        //private int tal1t;
        // private int tal2;

        //public int tal1 { get; set; }

        public int inData1 { get; set; }


        public int inData2 { get; set; }
        /*
        public int inData2{
            get { return tal2; }
            set { tal2 = value; }
        }
        */

        public static void UseParams(params int[] list)
        {
            List<int> talList2 = new List<int>(list);
            for (int i = 0; i < list.Length; i++)
            {
                Console.Write(list[i] + " ");
            }
            Console.WriteLine();
        }


    }


    class Program
    {
        static void menu(){
            Console.WriteLine("1. Multiplikation" + Environment.NewLine + 
                "2. Additation" + Environment.NewLine + "3. Division" + 
                    Environment.NewLine + "4. Substraktion" +
                        Environment.NewLine + "5. Multi list" + 
                            Environment.NewLine + "6. Exit");
        }

        static string tal1() {
            return "Tal 1: ";
        }
        static string tal2()
        {
            return "Tal 2: ";
        }






        static void Main(string[] args)
        {
            Console.Clear();
            menu();
            int selector = 0;
            bool ifValidInteger = false;
            ifValidInteger = int.TryParse(Console.ReadLine(), out selector);


            if (ifValidInteger)
            {
                Console.Clear();
                Console.WriteLine("**En simpel miniräknare**");

                //Get instance
                //ClassFunctions callFunction = new ClassFunctions();
                ClassUserActivity userInput = new ClassUserActivity();

                ClassDisplayCalculator display = new ClassDisplayCalculator();
                
                Console.WriteLine("");
                switch (selector)
                {
                    case 1:
                                    Console.WriteLine("Case1 - Multiplikation" + 
                                            Environment.NewLine + "Skriv in två heltal.");

                                    Console.Write(tal1());
                                    userInput.inData1 = Convert.ToInt32(Console.ReadLine());
                                    Console.Write(tal2());
                                    userInput.inData2 = Convert.ToInt32(Console.ReadLine());


                        //Test display.

                                    //DisplayMultiplication
                                    display.DisplayMultiplication(userInput.inData1, userInput.inData2);

                                   // Console.Write("Svar: {0} * {1} = ", userInput.inData1, userInput.inData2);
                                    //Console.WriteLine(callFunction.multiplikation(userInput.inData1, userInput.inData2));
                                    //Console.ReadLine();
                                    Main(args);
                        break;

                    case 2:
                         Console.WriteLine("Case2 - Additation"+
                             Environment.NewLine +
                             "Skriv in 2 heltal");

                         Console.Write(tal1());
                         userInput.inData1 = Convert.ToInt32(Console.ReadLine());
                         Console.Write(tal2());
                         userInput.inData2 = Convert.ToInt32(Console.ReadLine());

                         //DisplayMultiplication
                         display.DisplayAddition(userInput.inData1, userInput.inData2);


                       // Console.Write("Svar: {0} + {1} = ", userInput.inData1, userInput.inData2);
                        //Console.WriteLine(callFunction.addition(userInput.inData1, userInput.inData2));
                          //Console.ReadLine();
                         //
                         Main(args);
                        break;

                    case 3:
                        Console.WriteLine("Case3 - Division");

                        Console.Write(tal1());
                        userInput.inData1 = Convert.ToInt32(Console.ReadLine());
                        Console.Write(tal2());
                        userInput.inData2 = Convert.ToInt32(Console.ReadLine());

                        //DisplayMultiplication
                        display.DisplayDiv(userInput.inData1, userInput.inData2);

                        //Console.Write("Svar: ");
                        //Console.WriteLine(callFunction.division(userInput.inData1, userInput.inData2));
                        //Console.ReadLine();
                        Main(args);


                        break;

                    case 4:
                        Console.WriteLine("Case4 - Substraktion");
                        Console.Write(tal1());
                        userInput.inData1 = Convert.ToInt32(Console.ReadLine());

                        Console.Write(tal2());
                        userInput.inData2 = Convert.ToInt32(Console.ReadLine());

                        //DisplayMultiplication
                        display.DisplaySub(userInput.inData1, userInput.inData2);
                        //Console.WriteLine(callFunction.substraktion(userInput.inData1, userInput.inData2));
                       //Console.ReadLine();
                       Main(args);
                        break;

                    case 5:
                          Console.WriteLine("MULTI = Addition - Substraktion, Press Q for menu.");
                          Console.WriteLine();

                          //ClassMultipleIncome listIncome = new ClassMultipleIncome();
                          int uInt;
                          //ClassDisplayCalculator display = new ClassDisplayCalculator();

                         
                    //Do while if readline is not null or "q"
                              do
                              {
                                  string uInput = Console.ReadLine();
                                  uInt = 0;
                                  //listIncome.Display(uInput);
                                  display.Display(uInput);
                                  /*
                                  if (uInput.Contains("q") == true)
                                  {
                                      Main(args);
                                  }
                                  */

                                  /*
                                  if (int.TryParse(uInput, out uInt))
                                  {
                                      listIncome.AddTal(uInt);
                                  }
                                  else {
                                      Console.WriteLine("Endast siffror!");
                                  }
                                  */
                                  int summaObject = 0;
                                  Console.WriteLine("*******");
                                  foreach (int obj in display)
                                  {
                                      summaObject += obj;
                                      Console.Write(" + {0}", obj);
                                  }

                                  Console.WriteLine("");
                                  Console.WriteLine("summaObject = {0}", summaObject);
                              } while (uInt != null);
                        break;

                    case 6:
                        Console.WriteLine("Du har tryckt noll!");
                        
                        Environment.Exit(0);
                        break;
                      
                }
            }
            else
            {
                Console.WriteLine("Wrong selection" + Environment.NewLine + "Press any key to exit");
                Console.ReadKey();
            }
            Console.ReadKey();
        }
    }



 //https://msdn.microsoft.com/en-us/library/dscyy5s0.aspx

    //NOTIS!! -----  class UserActivity->MultipleIncome->Function->Display????? Korrekt?! Inheritence

 // Collection of tal objects. This class 
 // implements IEnumerable so that it can be used 
 // with ForEach syntax.
 public class ClassMultipleIncome {

    // Private members. 
     public List<ClassUserActivity> tal5 = new List<ClassUserActivity>();

    // Public methods. //Add to list
    public void AddTal(int name)
    {
        tal5.Add(new ClassUserActivity { inData1 = name });
    }

    public IEnumerator GetEnumerator()
    {
        foreach (ClassUserActivity theAnimal in tal5)
        {
            yield return theAnimal.inData1;
        }
    }


   

    }
/*
    public void listaSum()
    {
        //int total = tal5.Sum(x => Convert.ToInt32(x));
        //int total = Convert.ToInt32(tal5.Sum(x => x));

        //return total;
        //yield return total;


         //var total= tal5.Sum(x=>x.tal1);
        // var total = tal5.Last(x => x.tal1);
        //var testt = tal5.LastIndexOf(new user { tal1 = name });
        //Console.WriteLine(tal5.Last());
         //yield return total;
        /*
        int summa = 0;
        /*
        foreach(int element in tal5){
            Console.WriteLine(summa + element);
        }
        double total = tal5.Sum(item => item.Amount);
       // yield return tal5.Sum();

    }
*/
  

        public class ClassDisplayCalculator  : ClassFunctions
    {
            public void DisplayAddition(int tal1, int tal2)
            {
                Console.Write("Svar: {0} + {1} = ", tal1, tal2);
                Console.WriteLine(this.addition(tal1, tal2));
                //Console.WriteLine(callFunction.multiplikation(userInput.inData1, userInput.inData2));
                Console.ReadLine();
            }

            public void DisplayDiv(int tal1, int tal2)
            {
                Console.Write("Svar: {0} / {1} = ", tal1, tal2);
                Console.WriteLine(this.division(tal1, tal2));
                //Console.WriteLine(callFunction.multiplikation(userInput.inData1, userInput.inData2));
                Console.ReadLine();
            }

            public void DisplaySub(int tal1, int tal2)
            {
                Console.Write("Svar: {0} - {1} = ", tal1, tal2);
                Console.WriteLine(this.substraktion(tal1, tal2));
                //Console.WriteLine(callFunction.multiplikation(userInput.inData1, userInput.inData2));
                Console.ReadLine();
            }

            public void DisplayMultiplication(int tal1, int tal2)
            {
                Console.Write("Svar: {0} * {1} = ", tal1, tal2);
                Console.WriteLine(this.multiplikation(tal1,tal2));
                //Console.WriteLine(callFunction.multiplikation(userInput.inData1, userInput.inData2));
                Console.ReadLine();
               
            }

        public void Display(string checkIfq)
        {

            int addInt;
            bool contains = checkIfq.Contains("q");

            if (contains)
            {
                Console.Clear();
                Console.WriteLine("DU HAR VALT ATT AVSLUTA!");
                //Main(args);
                //Console.Clear();

            }
            else if (int.TryParse(checkIfq, out addInt))
            {
                //listIncome.AddTal(uInt);
                //tal5.Add(addInt);
                this.AddTal(addInt);
                Console.WriteLine(addInt);


                //tal5.Add(new ClassUserActivity { inData1 = addInt });
                Console.Clear();
            }
            else
            {
                Console.Clear();
                Console.WriteLine("Endast siffror!");
            }

    }
 }
}


